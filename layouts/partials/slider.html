<!DOCTYPE html>
<html>
  <head>
    <style>
      .slider {
        width: 200px;
        height: 2px;
        background-color: #ccc;
        position: relative;
      }
      .slider-handle {
        width: 16px;
        height: 16px;
        background-color: #007bff;
        border: 2px solid #0056b3;
        border-radius: 50%;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="slider" class="slider">
      <div id="slider-handle" class="slider-handle"></div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // 获取DOM元素
        const slider = document.getElementById("slider");
        const sliderHandle = document.getElementById("slider-handle");

        // 初始化变量
        let isDragging = false;

        // 鼠标按下事件处理
        sliderHandle.addEventListener("mousedown", (e) => {
          isDragging = true;
          document.addEventListener("mousemove", handleDrag);
          document.addEventListener("mouseup", handleRelease);
        });

        // 鼠标拖动事件处理
        function handleDrag(e) {
          if (!isDragging) return;

          const sliderRect = slider.getBoundingClientRect();
          const offsetX = e.clientX - sliderRect.left;
          const percentage = (offsetX / sliderRect.width) * 100;
          percentage = Math.min(100, Math.max(0, percentage)); // 限制在0%到100%之间

          sliderHandle.style.left = percentage + "%";
        }

        // 鼠标释放事件处理
        function handleRelease() {
          isDragging = false;
          document.removeEventListener("mousemove", handleDrag);
          document.removeEventListener("mouseup", handleRelease);
        }

        // 鼠标移出slider时也应释放
        slider.addEventListener("mouseleave", handleRelease);
      });
    </script>
  </body>
</html>
